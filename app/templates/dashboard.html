{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_field %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block title %}
Доска тестов
{% endblock %}

{% block content %}
<h2>Привет, {{ username }}</h2>
<p>Статистика по тестам</p>
<div class="progress">
  <div class="progress-bar bg-success" role="progressbar" style="width: {{ percent }}%" aria-valuenow="{{ percent }}" aria-valuemin="0" aria-valuemax="100">Правильные {{ percent }}%</div>
  <div class="progress-bar bg-danger" role="progressbar" style="width: {{ 100 - percent }}%" aria-valuenow="{{ 100 - percent }}" aria-valuemin="0" aria-valuemax="100">Неправильные {{ 100 - percent }}%</div>
</div>
<h3>Созданные тесты</h3>
<div id="createdTestsCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-touch="false" data-bs-interval="false">
  <div class="carousel-inner">
    {{ created_tests|length }}
    {% for test in created_tests %}
      {% if loop.index0 == 0 %}
        <div class="card carousel-item active" style="width: 18rem;">
      {% else %}
        <div class="card carousel-item" style="width: 18rem;">
      {% endif %}
        <div class="card-body d-block w-100">
          <h5 class="card-title">{{ test.title }}</h5>
          <p class="card-text">{{ test.description }}</p>
          <a href="#" class="btn btn-primary">Посмотреть</a>
        </div>
      </div>
    {% endfor %}
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#createdTestsCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Предыдущий</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#createdTestsCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Следующий</span>
  </button>
</div>
<div>
  {% for test in completed_tests %}
  <div class="card" style="width: 18rem;">
    <div class="card-body">
      <h5 class="card-title">{{ test.title }}</h5>
      <p class="card-text">{{ test.description }}</p>
      <a href="#" class="btn btn-primary">Посмотреть</a>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}